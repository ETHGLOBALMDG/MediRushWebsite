import React from 'react';
import '../styles/DoctorModal.css';

const DoctorModal = ({ doctor, isOpen, onClose }) => {
  if (!isOpen) return null;

  const handleOverlayClick = (e) => {
    if (e.target.classList.contains('modal-overlay')) {
      onClose();
    }
  };

  const handleRegenerateQR = () => {
    // QR code regeneration logic would go here
    console.log('Regenerating QR code...');
  };

  return (
    <div className="modal-overlay" onClick={handleOverlayClick}>
      <div className="modal-content">
        <div className="modal-main-card">
          <div className="doctor-info-section">
            <h2 className="doctor-info-title">Doctor Information</h2>
            
            <div className="doctor-profile">
              <div className="doctor-avatar">
                <svg width="70" height="70" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="35" cy="35" r="34" fill="#D9D9D9" stroke="#4CAF50" strokeWidth="2"/>
                </svg>
              </div>
              <div className="doctor-details">
                <h3 className="doctor-name">{doctor?.name || 'Dr. Deenank Sharma'}</h3>
                <p className="doctor-specialty">{doctor?.specialty || 'Neurology Practitioner'}</p>
              </div>
            </div>

            <div className="credentials-card">
              <div className="credentials-icon">
                <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10.3125 14.0625L14.0625 17.8125L20.625 11.25M4.6875 4.6875V16.875C4.6875 19.61 5.77399 22.2331 7.70796 24.167C9.64193 26.101 12.265 27.1875 15 27.1875C17.735 27.1875 20.3581 26.101 22.292 24.167C24.226 22.2331 25.3125 19.61 25.3125 16.875V4.6875H4.6875Z" stroke="#4CAF50"/>
                </svg>
              </div>
              <div className="credentials-content">
                <h4 className="credentials-title">Verified Credentials</h4>
                <p className="credentials-info">License: MD-154543</p>
                <p className="credentials-info">VeriMed ID: 0x15...aB56</p>
              </div>
            </div>

            <div className="clinic-card">
              <div className="clinic-icon">
                <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 0C12.5304 0 13.0391 0.210714 13.4142 0.585786C13.7893 0.960859 14 1.46957 14 2V7H16C16.5304 7 17.0391 7.21071 17.4142 7.58579C17.7893 7.96086 18 8.46957 18 9V18.9C18 19.0445 17.9715 19.1875 17.9163 19.321C17.861 19.4544 17.78 19.5757 17.6778 19.6778C17.5757 19.78 17.4544 19.861 17.321 19.9163C17.1875 19.9715 17.0445 20 16.9 20H1.1C0.955546 20 0.812506 19.9715 0.679048 19.9163C0.54559 19.861 0.424327 19.78 0.322183 19.6778C0.220038 19.5757 0.139013 19.4544 0.0837326 19.321C0.0284524 19.1875 0 19.0445 0 18.9V2C0 1.46957 0.210714 0.960859 0.585786 0.585786C0.960859 0.210714 1.46957 0 2 0H12ZM12 2H2V18H4V15C4 14.2044 4.31607 13.4413 4.87868 12.8787C5.44129 12.3161 6.20435 12 7 12C7.79565 12 8.55871 12.3161 9.12132 12.8787C9.68393 13.4413 10 14.2044 10 15V18H12V2ZM16 9H14V18H16V9ZM7 14C6.75507 14 6.51866 14.09 6.33563 14.2527C6.15259 14.4155 6.03566 14.6397 6.007 14.883L6 15V18H8V15C8 14.7348 7.89464 14.4804 7.70711 14.2929C7.51957 14.1054 7.26522 14 7 14ZM7 4C7.26522 4 7.51957 4.10536 7.70711 4.29289C7.89464 4.48043 8 4.73478 8 5V6H9C9.26522 6 9.51957 6.10536 9.70711 6.29289C9.89464 6.48043 10 6.73478 10 7C10 7.26522 9.89464 7.51957 9.70711 7.70711C9.51957 7.89464 9.26522 8 9 8H8V9C8 9.26522 7.89464 9.51957 7.70711 9.70711C7.51957 9.89464 7.26522 10 7 10C6.73478 10 6.48043 9.89464 6.29289 9.70711C6.10536 9.51957 6 9.26522 6 9V8H5C4.73478 8 4.48043 7.89464 4.29289 7.70711C4.10536 7.51957 4 7.26522 4 7C4 6.73478 4.10536 6.48043 4.29289 6.29289C4.48043 6.10536 4.73478 6 5 6H6V5C6 4.73478 6.10536 4.48043 6.29289 4.29289C6.48043 4.10536 6.73478 4 7 4Z" fill="#4CAF50"/>
                </svg>
              </div>
              <div className="clinic-content">
                <h4 className="clinic-title">Clinic Affiliation</h4>
                <p className="clinic-info">VeriMed Central Hospital</p>
                <p className="clinic-info">MDG Space, IIT Roorkee</p>
              </div>
            </div>
          </div>
        </div>

        <div className="qr-section">
          <h2 className="qr-title">Scan to Connect</h2>
          <p className="qr-description">Patients can scan this to securely share their records.</p>
          
          <div className="qr-code-container">
            <svg width="296" height="296" viewBox="0 0 296 296" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M32 236V208H88V264H32V236ZM80 236V216H40V256H80V236ZM48 236V224H72V248H48V236ZM104 260V256H96V240H104V216H112V208H96V200H64V192H72V184H56V200H48V192H32V184H48V168H40V176H32V160H48V168H56V176H64V168H72V176H88V168H80V160H56V152H80V144H56V136H48V144H32V120H40V128H88V120H80V112H64V120H56V112H40V96H56V112H64V104H80V96H88V104H80V112H88V120H96V104H104V96H96V72H112V80H120V88H112V96H120V144H104V136H96V144H88V152H80V160H88V168H96V176H112V168H104V160H96V152H112V168H120V152H128V168H136V144H144V136H152V144H144V152H152V160H176V152H168V144H160V128H152V120H160V112H168V104H160V96H152V112H144V104H136V112H128V104H136V96H128V72H120V64H128V72H136V40H144V56H160V48H152V32H168V40H160V48H176V40H184V32H200V56H184V48H176V64H184V88H192V80H200V120H216V112H208V96H224V120H240V112H232V96H240V112H248V104H264V120H256V112H248V120H240V144H248V152H240V160H224V168H216V176H200V168H192V160H184V176H192V184H216V192H232V184H224V176H232V168H240V176H248V184H256V168H248V160H264V184H256V200H264V216H256V240H264V248H240V264H216V256H232V248H216V232H208V248H200V256H208V264H192V240H184V256H176V248H168V216H176V240H184V216H192V200H184V192H176V184H184V176H176V168H168V200H176V208H160V224H152V240H160V248H152V256H168V264H152V256H144V248H136V264H104V260ZM128 248V240H136V216H120V224H128V232H112V240H104V248H112V256H128V248ZM240 240V232H248V216H256V208H248V184H240V208H248V216H240V224H232V248H240V240ZM200 236V232H192V240H200V236ZM152 220V216H144V224H152V220ZM224 212V200H200V224H224V212ZM208 212V208H216V216H208V212ZM144 204V200H160V192H144V184H136V192H144V200H128V192H120V200H112V192H104V184H96V176H88V184H80V192H88V184H96V192H104V200H112V208H144V204ZM120 180V176H112V184H120V180ZM160 176V168H144V176H152V184H160V176ZM208 164V160H200V168H208V164ZM224 156V152H232V128H224V136H216V144H208V136H192V128H184V120H192V96H184V88H176V80H168V88H160V64H168V72H176V64H168V56H160V64H152V88H160V96H168V88H176V112H168V120H160V128H168V144H176V136H192V144H200V152H216V160H224V156ZM216 148V144H224V152H216V148ZM88 140V136H96V128H88V136H80V144H88V140ZM112 124V120H104V128H112V124ZM112 84V80H104V88H112V84ZM144 80V72H136V88H144V80ZM192 44V40H184V48H192V44ZM256 260V256H264V264H256V260ZM256 144V136H248V128H256V136H264V152H256V144ZM32 60V32H88V88H32V60ZM80 60V40H40V80H80V60ZM48 60V48H72V72H48V60ZM208 60V32H264V88H208V60ZM256 60V40H216V80H256V60ZM224 60V48H248V72H224V60ZM96 60V56H104V64H96V60ZM112 52V48H104V32H112V40H120V32H128V40H120V56H112V52Z" fill="black"/>
            </svg>
          </div>

          <button className="regenerate-btn" onClick={handleRegenerateQR}>
            <svg width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M17.1527 0.0687298C17.3094 0.13699 17.4433 0.252593 17.5375 0.400916C17.6316 0.549239 17.6819 0.723619 17.6819 0.902V6.00382C17.6819 6.24299 17.5916 6.47237 17.4308 6.64149C17.2701 6.81062 17.0521 6.90563 16.8247 6.90563H11.9756C11.8062 6.90547 11.6406 6.8525 11.4998 6.75339C11.359 6.65429 11.2492 6.51351 11.1844 6.34882C11.1196 6.18413 11.1026 6.00293 11.1356 5.8281C11.1687 5.65328 11.2502 5.49266 11.3699 5.36654L13.2007 3.43788C11.519 2.69693 9.65188 2.56029 7.88881 3.04914C6.12573 3.53799 4.56515 4.62503 3.44891 6.14179C2.33267 7.65856 1.72311 9.52034 1.7147 11.4386C1.7063 13.3569 2.29951 15.2245 3.40241 16.752C4.50531 18.2795 6.0563 19.3817 7.81502 19.8876C9.57373 20.3935 11.442 20.275 13.1301 19.5504C14.8183 18.8258 16.2322 17.5356 17.1527 15.8797C18.0731 14.2238 18.4487 12.2947 18.2213 10.3914C18.1978 10.1566 18.2626 9.92152 18.402 9.73652C18.5414 9.55153 18.7442 9.43142 18.9668 9.40198C19.1895 9.37255 19.4142 9.43613 19.5928 9.57909C19.7713 9.72204 19.8895 9.93296 19.9219 10.1666C20.2001 12.4946 19.7306 14.8537 18.5881 16.8688C17.4456 18.8839 15.6956 20.4394 13.6164 21.2879C11.5371 22.1365 9.24795 22.2294 7.11275 21.5519C4.97755 20.8745 3.11887 19.4655 1.83218 17.549C0.545485 15.6325 -0.0953685 13.3185 0.0114914 10.9748C0.118351 8.6311 0.966792 6.39225 2.42194 4.61413C3.87708 2.83602 5.85542 1.62071 8.04245 1.16139C10.2295 0.702077 12.4997 1.02512 14.4922 2.07916L16.2179 0.26352C16.3378 0.1376 16.4905 0.0518922 16.6567 0.0172226C16.8229 -0.0174469 16.9962 0.00047664 17.1527 0.0687298Z" fill="white"/>
            </svg>
            Regenerate
          </button>
        </div>
      </div>
    </div>
  );
};

export default DoctorModal;
